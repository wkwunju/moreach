# Reddit Lead Generation - å®Œæ•´è®¾è®¡æ–‡æ¡£

> **AI é©±åŠ¨çš„ Reddit çº¿ç´¢ç”Ÿæˆç³»ç»Ÿ**
> 
> ä» Reddit è®¨è®ºä¸­è‡ªåŠ¨å‘ç°ã€ç›‘æ§å’Œè¯„åˆ†æ½œåœ¨å®¢æˆ·æœºä¼š

---

## ğŸ“– ç›®å½•

1. [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
2. [æ ¸å¿ƒæµç¨‹](#æ ¸å¿ƒæµç¨‹)
3. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
4. [æ•°æ®æ¨¡å‹](#æ•°æ®æ¨¡å‹)
5. [å‰ç«¯è®¾è®¡](#å‰ç«¯è®¾è®¡)
6. [åç«¯æœåŠ¡](#åç«¯æœåŠ¡)
7. [è¯„åˆ†ç³»ç»Ÿ](#è¯„åˆ†ç³»ç»Ÿ)
8. [API å‚è€ƒ](#api-å‚è€ƒ)
9. [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
10. [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
11. [ä¼˜åŒ–å†å²](#ä¼˜åŒ–å†å²)

---

## ç³»ç»Ÿæ¦‚è¿°

### æ ¸å¿ƒåŠŸèƒ½

**Reddit Lead Generation** æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„çº¿ç´¢æŒ–æ˜ç³»ç»Ÿï¼Œé€šè¿‡ AI æŠ€æœ¯ä» Reddit è®¨è®ºä¸­å‘ç°å’Œè¯„ä¼°æ½œåœ¨å®¢æˆ·ã€‚

#### ä¸»è¦ç‰¹æ€§

1. **æ™ºèƒ½ Subreddit å‘ç°**
   - LLM è‡ªåŠ¨ç”Ÿæˆæœç´¢æŸ¥è¯¢
   - åŸºäºä¸šåŠ¡æè¿°æ‰¾åˆ°ç›¸å…³ç¤¾åŒº
   - AI è¯„åˆ† subreddit ä¸ä¸šåŠ¡çš„ç›¸å…³æ€§ï¼ˆ0-100åˆ†ï¼‰

2. **è‡ªåŠ¨åŒ–ç›‘æ§**
   - æ¯6å°æ—¶è‡ªåŠ¨æŠ“å–æ–°å¸–å­
   - å»é‡æœºåˆ¶é¿å…é‡å¤æŠ“å–
   - åªæŠ“å–æŒ‡å®šæ—¶é—´åçš„æ–°å†…å®¹

3. **AI è¯„åˆ†ç³»ç»Ÿ**
   - ä½¿ç”¨ç¦»æ•£è¯„åˆ†æ¡£ä½ï¼ˆ100/80/70/60/50/0ï¼‰
   - å®½æ¾è¯„åˆ†æ ‡å‡†ï¼ˆæœ‰å…³ç³»å°±ç»™50+åˆ†ï¼‰
   - æ¯ä¸ªç»“æœç«‹å³å†™å…¥æ•°æ®åº“

4. **AI ç”Ÿæˆå“åº”**
   - è‡ªåŠ¨ç”Ÿæˆ Suggested Comment
   - è‡ªåŠ¨ç”Ÿæˆ Suggested DM
   - æä¾›ç›¸å…³æ€§åŸå› è¯´æ˜

5. **æ‰‹åŠ¨æ“ä½œå·¥ä½œæµ**
   - ä¸€é”®å¤åˆ¶ + è·³è½¬ Reddit
   - è‡ªåŠ¨æ ‡è®°ä¸º Commented/DMed
   - çŠ¶æ€ç®¡ç†å¹²å‡€æ— æ®‹ç•™

### ä½¿ç”¨åœºæ™¯

- **B2B SaaS è·å®¢**: åœ¨ç›¸å…³ç¤¾åŒºå‘ç°è®¨è®ºä½ äº§å“è§£å†³çš„é—®é¢˜çš„ç”¨æˆ·
- **äº§å“éªŒè¯**: äº†è§£ç›®æ ‡ç”¨æˆ·çš„çœŸå®éœ€æ±‚å’Œç—›ç‚¹
- **ç«å“ç ”ç©¶**: å‘ç°ç”¨æˆ·å¯¹ç«å“çš„è¯„ä»·å’Œéœ€æ±‚
- **ç¤¾åŒºå»ºè®¾**: æ‰¾åˆ°æ½œåœ¨çš„æ—©æœŸç”¨æˆ·å’Œæ¨å¹¿è€…

---

## æ ¸å¿ƒæµç¨‹

### å®Œæ•´å·¥ä½œæµ

```
1. ç”¨æˆ·æè¿°ä¸šåŠ¡
   â†“
2. AI ç”Ÿæˆæœç´¢å…³é”®è¯
   â†“
3. è°ƒç”¨ Apify æœç´¢ subredditï¼ˆæ‰¹é‡ï¼‰
   â†“
4. ä½¿ç”¨ LLM å¯¹æ¯ä¸ª subreddit æ‰“åˆ†ï¼ˆ0-1ï¼‰
   - ç›¸å…³æ€§è¯„åˆ†: 70%
   - æ´»è·ƒåº¦è¯„åˆ†: 30%ï¼ˆåŸºäºè®¢é˜…æ•°ï¼‰
   â†“
5. ç”¨æˆ·é€‰æ‹©è¦ç›‘æ§çš„ subreddit
   â†“
6. æ¯ 6 å°æ—¶è‡ªåŠ¨è¿è¡Œï¼ˆæˆ–æ‰‹åŠ¨è§¦å‘ï¼‰ï¼š
   - æŠ“å– 20 ä¸ªæ–°å¸–å­/subreddit
   - å…ˆä¿å­˜åˆ°æ•°æ®åº“ï¼ˆrelevancy_score = Noneï¼‰
   - ç„¶åé€ä¸ªè°ƒç”¨ LLM è¯„åˆ†
   - ç«‹å³ commit æ¯ä¸ªç»“æœ
   - åˆ é™¤ä½äº 50 åˆ†çš„å¸–å­
   â†“
7. å‰ç«¯å±•ç¤ºï¼ˆInbox é£æ ¼ï¼‰ï¼š
   - Inbox: æ–°çº¿ç´¢
   - Commented: å·²è¯„è®º
   - DMed: å·²ç§ä¿¡
   â†“
8. ç”¨æˆ·æ“ä½œï¼š
   - Copy & comment manually â†’ å¤åˆ¶ + è·³è½¬å¸–å­ + æ ‡è®° Commented
   - Copy & DM manually â†’ å¤åˆ¶ + è·³è½¬ç”¨æˆ·é¡µ + æ ‡è®° DMed
```

### æ•°æ®æµä¼˜åŒ–

#### ä¼˜åŒ–1: æ‰¹é‡æœç´¢ Subreddit

**ä¹‹å‰**: æ¯ä¸ªå…³é”®è¯å•ç‹¬è°ƒç”¨ Apify
```python
for query in ["SaaS", "startups", "business"]:
    results = search_communities(query)  # 3æ¬¡APIè°ƒç”¨
```

**ç°åœ¨**: ä¸€æ¬¡è°ƒç”¨ä¼ å…¥æ‰€æœ‰å…³é”®è¯
```python
results = search_communities(["SaaS", "startups", "business"])  # 1æ¬¡APIè°ƒç”¨
```

#### ä¼˜åŒ–2: å…ˆä¿å­˜åè¯„åˆ†

**ä¹‹å‰**: è¯„åˆ†å¤±è´¥å¯¼è‡´æ•°æ®ä¸¢å¤±
```python
for post in posts:
    score = llm_score(post)  # âŒ å¦‚æœå¤±è´¥ï¼Œå‰é¢çš„å¸–å­éƒ½ä¸¢å¤±
    save(post, score)
```

**ç°åœ¨**: ç«‹å³ä¿å­˜ï¼Œç„¶åå¼‚æ­¥è¯„åˆ†
```python
# Step 1: ä¿å­˜æ‰€æœ‰å¸–å­
for post in posts:
    save(post, relevancy_score=None)  # âœ… æ•°æ®å®‰å…¨
db.commit()

# Step 2: é€ä¸ªè¯„åˆ†å¹¶ç«‹å³æäº¤
for lead in leads:
    score = llm_score(lead)
    lead.relevancy_score = score
    db.commit()  # âœ… æ¯ä¸ªç»“æœç«‹å³ä¿å­˜
```

---

## æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

**åç«¯**:
- FastAPI (API æœåŠ¡å™¨)
- SQLAlchemy (ORM)
- SQLite (æ•°æ®åº“)
- Celery (å®šæ—¶ä»»åŠ¡)
- Redis (Celery broker)

**å‰ç«¯**:
- Next.js 14 (React æ¡†æ¶)
- TypeScript
- Tailwind CSS

**å¤–éƒ¨æœåŠ¡**:
- **Apify** (æ•°æ®æŠ“å–)
  - Community Search Actor: æœç´¢ subreddit
  - Reddit Scraper Actor: æŠ“å–å¸–å­
- **Gemini API** (LLM æœåŠ¡)
  - ç”Ÿæˆæœç´¢æŸ¥è¯¢
  - è¯„åˆ† subreddit ç›¸å…³æ€§
  - è¯„åˆ†å¸–å­ç›¸å…³æ€§
  - ç”Ÿæˆå»ºè®®å“åº”

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Frontend (Next.js)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Campaign   â”‚  â”‚  Subreddit   â”‚  â”‚   Leads       â”‚ â”‚
â”‚  â”‚   Management â”‚  â”‚  Discovery   â”‚  â”‚   Inbox       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚ HTTP/REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Backend (FastAPI)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              API Routes Layer                     â”‚  â”‚
â”‚  â”‚  /campaigns  /discover  /leads  /rescore         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Discovery Service     â”‚   Polling   â”‚  Scoring   â”‚ â”‚
â”‚  â”‚  - Generate queries    â”‚   Service   â”‚  Service   â”‚ â”‚
â”‚  â”‚  - Search subreddits   â”‚  - Monitor  â”‚  - Filter  â”‚ â”‚
â”‚  â”‚  - Rank relevance      â”‚  - Dedupe   â”‚  - Score   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                â”‚                â”‚              â”‚         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚           Apify Provider       LLM Client          â”‚ â”‚
â”‚  â”‚  - Community Search    - Gemini/OpenAI             â”‚ â”‚
â”‚  â”‚  - Reddit Scraper      - Prompt templates          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚               â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
â”‚   Apify      â”‚ â”‚   Gemini  â”‚ â”‚  Database   â”‚
â”‚   Actors     â”‚ â”‚    API    â”‚ â”‚   (SQLite)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Celery å®šæ—¶ä»»åŠ¡

```
Celery Beat (Scheduler)
    â†“ æ¯ 6 å°æ—¶
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  poll_reddit_leads Task          â”‚
â”‚  1. è·å–æ‰€æœ‰ ACTIVE campaigns    â”‚
â”‚  2. æ”¶é›†å»é‡åçš„ subreddits      â”‚
â”‚  3. å¯¹æ¯ä¸ª subreddit:            â”‚
â”‚     - æŠ“å– 20 ä¸ªæ–°å¸–å­           â”‚
â”‚     - ä¿å­˜åˆ°æ•°æ®åº“               â”‚
â”‚     - é€ä¸ª LLM è¯„åˆ†              â”‚
â”‚     - ç«‹å³ commit                â”‚
â”‚  4. åˆ é™¤ä½åˆ†å¸–å­ (< 50)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ•°æ®æ¨¡å‹

### æ•°æ®åº“è¡¨ç»“æ„

#### 1. `reddit_campaigns` - Campaign ç®¡ç†

```sql
CREATE TABLE reddit_campaigns (
    id INTEGER PRIMARY KEY,
    created_at DATETIME,
    updated_at DATETIME,
    status TEXT,  -- DISCOVERING, ACTIVE, PAUSED, COMPLETED
    business_description TEXT,
    search_queries TEXT,  -- JSON array
    poll_interval_hours INTEGER DEFAULT 6,
    last_poll_at DATETIME
);
```

#### 2. `reddit_campaign_subreddits` - Subreddit é€‰æ‹©

```sql
CREATE TABLE reddit_campaign_subreddits (
    id INTEGER PRIMARY KEY,
    campaign_id INTEGER,
    subreddit_name VARCHAR(128),
    subreddit_title VARCHAR(512),
    subreddit_description TEXT,
    subscribers INTEGER,
    relevance_score FLOAT,  -- LLMè¯„åˆ† 0.0-1.0
    is_active BOOLEAN DEFAULT TRUE,
    created_at DATETIME,
    FOREIGN KEY(campaign_id) REFERENCES reddit_campaigns(id)
);
```

#### 3. `reddit_leads` - çº¿ç´¢è®°å½•

```sql
CREATE TABLE reddit_leads (
    id INTEGER PRIMARY KEY,
    campaign_id INTEGER,
    reddit_post_id VARCHAR(128) UNIQUE,
    subreddit_name VARCHAR(128),
    title TEXT,
    content TEXT,
    author VARCHAR(128),
    post_url VARCHAR(512),
    score INTEGER,  -- upvotes
    num_comments INTEGER,
    created_utc FLOAT,
    relevancy_score FLOAT,  -- å¯ä¸º NULLï¼ˆå¾…è¯„åˆ†ï¼‰æˆ– 0-100
    relevancy_reason TEXT,
    suggested_comment TEXT,
    suggested_dm TEXT,
    status TEXT,  -- NEW, REVIEWED, CONTACTED, DISMISSED
    discovered_at DATETIME,
    updated_at DATETIME,
    FOREIGN KEY(campaign_id) REFERENCES reddit_campaigns(id)
);
```

### çŠ¶æ€æšä¸¾

#### Campaign çŠ¶æ€

- `DISCOVERING` - æ­£åœ¨æŸ¥æ‰¾ subreddit
- `ACTIVE` - æ­£åœ¨ç›‘æ§çº¿ç´¢
- `PAUSED` - æš‚æ—¶åœæ­¢
- `COMPLETED` - ç”¨æˆ·æ ‡è®°ä¸ºå®Œæˆ

#### Lead çŠ¶æ€

- `NEW` - æ–°çº¿ç´¢ï¼ˆInboxï¼‰
- `REVIEWED` - å·²è¯„è®ºï¼ˆCommentedï¼‰
- `CONTACTED` - å·²ç§ä¿¡ï¼ˆDMedï¼‰
- `DISMISSED` - å·²å¿½ç•¥

**æ³¨æ„**: å‰ç«¯æ˜¾ç¤ºä¸æ•°æ®åº“æ˜ å°„:
- Inbox â†’ NEW
- Commented â†’ REVIEWED
- DMed â†’ CONTACTED

---

## å‰ç«¯è®¾è®¡

### UI å¸ƒå±€ (Inbox é£æ ¼)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Top Bar: Logo, Navigation                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Left    â”‚      Center           â”‚        Right                 â”‚
â”‚  Sidebar â”‚    Leads List         â”‚    Detail Panel              â”‚
â”‚  (256px) â”‚   (flex-1)            â”‚    (Golden Ratio)            â”‚
â”‚          â”‚                       â”‚                              â”‚
â”‚  â”œ Inbox â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”œ Comm. â”‚ â”‚ ğŸŸ¢ 72% relevancy â”‚ â”‚ â”‚ u/author â€¢ r/subreddit  â”‚ â”‚
â”‚  â”” DMed  â”‚ â”‚ u/xxx â€¢ r/SaaS   â”‚ â”‚ â”‚ Post Title              â”‚ â”‚
â”‚          â”‚ â”‚ Looking for PM...â”‚ â”‚ â”‚ Full content...         â”‚ â”‚
â”‚  Filter: â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚                         â”‚ â”‚
â”‚  â–¼ All   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ ğŸ’¡ Reasoning:          â”‚ â”‚
â”‚  r/SaaS  â”‚ â”‚ ğŸŸ¢ 65% relevancy â”‚ â”‚ â”‚ User is looking for... â”‚ â”‚
â”‚  r/Start â”‚ â”‚ ...              â”‚ â”‚ â”‚                         â”‚ â”‚
â”‚          â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ ğŸ’¬ Suggested Comment:  â”‚ â”‚
â”‚          â”‚                       â”‚ â”‚ Have you considered... â”‚ â”‚
â”‚          â”‚                       â”‚ â”‚ [Copy & comment]       â”‚ â”‚
â”‚          â”‚                       â”‚ â”‚                         â”‚ â”‚
â”‚          â”‚                       â”‚ â”‚ ğŸ“§ Suggested DM:       â”‚ â”‚
â”‚          â”‚                       â”‚ â”‚ Hi! I saw your post... â”‚ â”‚
â”‚          â”‚                       â”‚ â”‚ [Copy & DM]            â”‚ â”‚
â”‚          â”‚                       â”‚ â”‚                         â”‚ â”‚
â”‚          â”‚                       â”‚ â”‚ [View on Reddit]       â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¯è°ƒæ•´å®½åº¦

å³ä¾§è¯¦æƒ…é¢æ¿ä½¿ç”¨**é»„é‡‘åˆ†å‰²æ¯”ä¾‹**ï¼ˆ61.8% : 38.2%ï¼‰:
- è¯¦æƒ…é¢æ¿: 61.8% å®½åº¦ï¼ˆæ›´å®½ï¼Œæ–¹ä¾¿é˜…è¯»ï¼‰
- åˆ—è¡¨é¢æ¿: 38.2% å®½åº¦ï¼ˆç´§å‡‘é¢„è§ˆï¼‰
- ç”¨æˆ·å¯æ‹–åŠ¨è¾¹ç•Œè°ƒæ•´
- çª—å£å¤§å°å˜åŒ–æ—¶è‡ªåŠ¨é‡æ–°è®¡ç®—æ¯”ä¾‹

### çŠ¶æ€ç®¡ç†ä¼˜åŒ–

#### é—®é¢˜: Tab åˆ‡æ¢çŠ¶æ€æ®‹ç•™

**åŸå› **: 
```typescript
// âŒ é”™è¯¯çš„æ–¹å¼
setFilterStatus(status);  // å¼‚æ­¥æ›´æ–°
handleViewLeads(campaign);  // ä½¿ç”¨æ—§çš„ filterStatus
```

**è§£å†³**:
```typescript
// âœ… æ­£ç¡®çš„æ–¹å¼
setFilterStatus(status);
await handleViewLeads(campaign, status);  // ç›´æ¥ä¼ é€’æ–°çŠ¶æ€
```

#### ä¼˜åŒ–: ç«‹å³æ›´æ–° UI

```typescript
async function handleCopyAndComment(lead) {
  await navigator.clipboard.writeText(lead.suggested_comment);
  await handleUpdateStatus(lead.id, "REVIEWED");
  
  // âœ… ç«‹å³ä»åˆ—è¡¨ç§»é™¤ï¼ˆæ— éœ€ç­‰å¾…APIï¼‰
  setLeads(prev => prev.filter(l => l.id !== lead.id));
  setSelectedLead(leads.find(l => l.id !== lead.id));
  
  window.open(lead.post_url, '_blank');
}
```

### å‰ç«¯å…¼å®¹æ€§

**è¯„åˆ†æ˜¾ç¤º** - æ”¯æŒä¸¤ç§æ ¼å¼:
```typescript
// å…¼å®¹æ—§æ ¼å¼ (0.0-1.0) å’Œæ–°æ ¼å¼ (0-100)
const score = lead.relevancy_score || 0;
const display = score <= 1 ? Math.round(score * 100) : Math.round(score);
// 0.72 â†’ 72%
// 80 â†’ 80%
```

---

## åç«¯æœåŠ¡

### 1. Discovery Service (å‘ç°æœåŠ¡)

**èŒè´£**: å‘ç°å’Œè¯„åˆ† subreddit

**æ ¸å¿ƒæ–¹æ³•**:

```python
class RedditDiscoveryService:
    def generate_search_queries(business_description: str) -> List[str]:
        """
        ä½¿ç”¨ LLM ç”Ÿæˆ 5-8 ä¸ªæœç´¢æŸ¥è¯¢
        
        Input: "æˆ‘é”€å”®é¡¹ç›®ç®¡ç† SaaS ç»™å°å›¢é˜Ÿ"
        Output: ["project management", "productivity", "SaaS", "small teams"]
        """
    
    def discover_subreddits(search_queries: List[str]) -> List[Dict]:
        """
        æ‰¹é‡æœç´¢ subredditï¼ˆä¸€æ¬¡ Apify è°ƒç”¨ï¼‰
        
        Input: ["SaaS", "startups", "business"]
        Output: [
            {name: "SaaS", subscribers: 50000, ...},
            {name: "startups", subscribers: 800000, ...}
        ]
        """
    
    def rank_subreddits(subreddits: List[Dict], business_desc: str) -> List[Dict]:
        """
        ä½¿ç”¨ LLM è¯„åˆ† subreddit ç›¸å…³æ€§
        
        - è¯„åˆ†æ¡£ä½: 0.0-1.0 (å°æ•°)
        - ç»¼åˆåˆ†æ•°: 70% ç›¸å…³æ€§ + 30% æ´»è·ƒåº¦
        - æ´»è·ƒåº¦åŸºäºè®¢é˜…æ•°çš„å¯¹æ•°æ ‡å‡†åŒ–
        
        Output: æŒ‰ composite_score é™åºæ’åˆ—
        """
```

### 2. Polling Service (è½®è¯¢æœåŠ¡)

**èŒè´£**: å®šæœŸæŠ“å–æ–°å¸–å­

**æ ¸å¿ƒæ–¹æ³•**:

```python
class RedditPollingService:
    def poll_campaign_immediately(campaign_id: int) -> Dict:
        """
        ç«‹å³è½®è¯¢ä¸€ä¸ª campaign
        
        æµç¨‹:
        1. è·å– campaign çš„æ‰€æœ‰ subreddit
        2. å¯¹æ¯ä¸ª subreddit æŠ“å– 20 ä¸ªå¸–å­
        3. å…ˆä¿å­˜åˆ°æ•°æ®åº“
        4. é€ä¸ª LLM è¯„åˆ†
        5. åˆ é™¤ä½åˆ†å¸–å­
        """
    
    def poll_subreddit(subreddit_name: str, limit: int = 20) -> List[Dict]:
        """
        æŠ“å–å•ä¸ª subreddit çš„æ–°å¸–å­
        
        - ä½¿ç”¨ Apify Reddit Scraper
        - sort="new", time_filter="day"
        - è¿‡æ»¤è‡ªä¸Šæ¬¡è½®è¯¢åçš„å¸–å­
        """
    
    def _distribute_leads_to_campaign(
        campaign_id: int, 
        subreddit: str, 
        posts: List[Dict]
    ) -> int:
        """
        ä¸º campaign åˆ›å»º leads
        
        æµç¨‹:
        1. æ£€æŸ¥å»é‡ï¼ˆreddit_post_idï¼‰
        2. ä¿å­˜ leadï¼ˆscore=Noneï¼‰
        3. commit
        4. é€ä¸ªè¯„åˆ†
        5. commit æ¯ä¸ªç»“æœ
        6. åˆ é™¤ < 50 åˆ†çš„
        """
```

### 3. Scoring Service (è¯„åˆ†æœåŠ¡)

**èŒè´£**: AI è¯„åˆ†å¸–å­ç›¸å…³æ€§

**è¯„åˆ†æ¡£ä½** (ç¦»æ•£å€¼):
- **100åˆ†**: å®Œç¾åŒ¹é… - ç”¨æˆ·æ˜ç¡®éœ€è¦è¿™ä¸ªè§£å†³æ–¹æ¡ˆ
- **80åˆ†**: å¼ºç›¸å…³ - é«˜åº¦ç›¸å…³ï¼Œæœ‰æ˜ç¡®ç—›ç‚¹
- **70åˆ†**: å¥½çš„çº¿ç´¢ - ä¸ä¸šåŠ¡ç›¸å…³ï¼Œæœ‰æ½œåœ¨æœºä¼š
- **60åˆ†**: ä¸­ç­‰çº¿ç´¢ - æœ‰ä¸€å®šç›¸å…³æ€§ï¼Œå€¼å¾—è”ç³»
- **50åˆ†**: å¼±çº¿ç´¢ - å‹‰å¼ºç›¸å…³ä½†æœ‰æœ€ä½é™åº¦çš„è”ç³»
- **0åˆ†**: ä¸æ˜¯çº¿ç´¢ - å®Œå…¨æ— å…³æˆ–åƒåœ¾å†…å®¹

**æ ¸å¿ƒæ–¹æ³•**:

```python
class RedditScoringService:
    def score_post(post: Dict, business_description: str) -> Dict:
        """
        å®Œæ•´è¯„åˆ†æµç¨‹
        
        è¿”å›:
        {
            "relevancy_score": 80,  # ç¦»æ•£æ¡£ä½
            "relevancy_reason": "...",
            "suggested_comment": "...",
            "suggested_dm": "..."
        }
        """
    
    def llm_analyze(post: Dict, business_desc: str) -> Tuple:
        """
        LLM æ·±åº¦åˆ†æ
        
        Prompt è¦æ±‚:
        - å®½æ¾è¯„åˆ†æ ‡å‡†
        - åªä½¿ç”¨æŒ‡å®šæ¡£ä½ (100/80/70/60/50/0)
        - æœ‰ä¸€ç‚¹å…³ç³»å°±è‡³å°‘ç»™ 50 åˆ†
        
        è¿”å›: (score, reason, comment, dm)
        """
```

**LLM Prompt ç­–ç•¥**:

```
è¯„åˆ†æŒ‡å—:
- Be GENEROUS with scoring
- åªè¦æœ‰ä»»ä½•è”ç³»å°±ç»™è‡³å°‘ 50 åˆ†
- åªæœ‰å®Œå…¨æ— å…³æ‰ç»™ 0 åˆ†
- å¦‚æœæåˆ°è¡Œä¸š/è¯é¢˜ï¼Œè‡³å°‘ 50-60 åˆ†
- å¦‚æœæœ‰æ˜ç¡®é—®é¢˜å¯ä»¥è§£å†³ï¼Œ70+ åˆ†
- ä¿ç•™ 100 åˆ†ç»™æ˜ç¡®å¯»æ±‚è¿™ä¸ªè§£å†³æ–¹æ¡ˆçš„å¸–å­
```

### 4. Apify Provider (æ•°æ®æŠ“å–)

**èŒè´£**: å°è£… Apify API è°ƒç”¨

**ä½¿ç”¨çš„ Actors**:

1. **Community Search** (`practicaltools~apify-reddit-api`)
   ```python
   search_communities(queries: List[str], limit: int) -> List[Dict]
   ```

2. **Reddit Scraper** (`harshmaur~reddit-scraper`)
   ```python
   scrape_subreddit(
       subreddit: str, 
       max_posts: int = 20,
       sort: str = "new",
       time_filter: str = "day"
   ) -> List[Dict]
   ```

**å­—æ®µæ˜ å°„** (é‡è¦):
```python
# Apify è¿”å›çš„å­—æ®µå â†’ å†…éƒ¨å­—æ®µå
{
    "numberOfMembers": "subscribers",
    "over18": "is_nsfw",
    "authorName": "author",
    "upVotes": "score",
    "commentsCount": "num_comments",
    "body": "content",
    "contentUrl": "url"
}
```

---

## API å‚è€ƒ

### Campaign ç®¡ç†

#### POST `/api/v1/reddit/campaigns`
åˆ›å»ºæ–° campaign

**Request**:
```json
{
  "business_description": "æˆ‘é”€å”®é¡¹ç›®ç®¡ç† SaaS ç»™å°å›¢é˜Ÿ",
  "poll_interval_hours": 6
}
```

**Response**:
```json
{
  "id": 1,
  "status": "DISCOVERING",
  "search_queries": "[\"project management\", \"SaaS\", ...]",
  "created_at": "2026-01-21T10:00:00"
}
```

#### GET `/api/v1/reddit/campaigns`
åˆ—å‡ºæ‰€æœ‰ campaign

#### GET `/api/v1/reddit/campaigns/{id}`
è·å– campaign è¯¦æƒ…

#### POST `/api/v1/reddit/campaigns/{id}/pause`
æš‚åœ campaign

#### POST `/api/v1/reddit/campaigns/{id}/resume`
æ¢å¤ campaign

### Subreddit å‘ç°

#### GET `/api/v1/reddit/campaigns/{id}/discover-subreddits`
å‘ç°å¹¶è¯„åˆ† subreddit

**Response**:
```json
[
  {
    "name": "SaaS",
    "title": "Software as a Service",
    "subscribers": 50000,
    "relevance_score": 0.95,
    "url": "https://reddit.com/r/SaaS"
  }
]
```

#### POST `/api/v1/reddit/campaigns/{id}/select-subreddits`
é€‰æ‹© subreddit å¹¶æ¿€æ´»

**Request**:
```json
{
  "subreddits": [
    {
      "name": "SaaS",
      "subscribers": 50000,
      "relevance_score": 0.95
    }
  ]
}
```

#### GET `/api/v1/reddit/campaigns/{id}/subreddits`
è·å– campaign çš„ subreddit åˆ—è¡¨

### Leads ç®¡ç†

#### GET `/api/v1/reddit/campaigns/{id}/leads`
è·å– leads

**Query Parameters**:
- `status`: NEW/REVIEWED/CONTACTED/DISMISSED
- `limit`: é»˜è®¤ 200
- `offset`: é»˜è®¤ 0

**Response**:
```json
{
  "campaign_id": 1,
  "total_leads": 50,
  "new_leads": 30,
  "leads": [
    {
      "id": 1,
      "title": "Looking for PM tool",
      "relevancy_score": 80,
      "status": "NEW",
      ...
    }
  ]
}
```

#### PATCH `/api/v1/reddit/leads/{id}/status`
æ›´æ–° lead çŠ¶æ€

**Request**:
```json
{
  "status": "REVIEWED"
}
```

### è¿ç»´æ“ä½œ

#### POST `/api/v1/reddit/campaigns/{id}/run-now`
ç«‹å³è¿è¡Œ campaignï¼ˆæ‰‹åŠ¨è§¦å‘è½®è¯¢ï¼‰

#### POST `/api/v1/reddit/campaigns/{id}/rescore-leads`
é‡æ–°è¯„åˆ†æœªè¯„åˆ†çš„ leads

---

## é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

`backend/.env`:

```env
# ==== Apify (å¿…éœ€) ====
APIFY_TOKEN=your_apify_token_here

# Apify Actors (å¯é€‰ï¼Œæœ‰é»˜è®¤å€¼)
APIFY_REDDIT_COMMUNITY_SEARCH_ACTOR=practicaltools~apify-reddit-api
APIFY_REDDIT_SCRAPER_ACTOR=harshmaur~reddit-scraper

# ==== LLM é…ç½® ====
LLM_PROVIDER=gemini
GEMINI_API_KEY=your_gemini_api_key
GEMINI_MODEL=gemini-2.0-flash-exp

# ==== æ•°æ®åº“ ====
DATABASE_URL=sqlite:///./app.db

# ==== Redis (Celery) ====
REDIS_URL=redis://localhost:6379/0
```

### Celery è°ƒåº¦

`backend/app/workers/celery_app.py`:

```python
celery_app.conf.beat_schedule = {
    "poll-reddit-leads": {
        "task": "app.workers.tasks.poll_reddit_leads",
        "schedule": 3600 * 6,  # æ¯ 6 å°æ—¶
    },
}
```

---

## ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹

#### 1. å¯åŠ¨æœåŠ¡

```bash
# Terminal 1: API æœåŠ¡å™¨
cd backend
python -m app.main

# Terminal 2: Celery Worker
celery -A app.workers.celery_app worker --loglevel=info

# Terminal 3: Celery Beat (å®šæ—¶ä»»åŠ¡)
celery -A app.workers.celery_app beat --loglevel=info

# Terminal 4: Frontend
cd frontend
npm run dev
```

#### 2. åˆ›å»º Campaign

1. è®¿é—® http://localhost:3000/reddit
2. ç‚¹å‡» "New Campaign"
3. æè¿°ä½ çš„ä¸šåŠ¡
4. AI ç”Ÿæˆæœç´¢è¯å¹¶å‘ç° subreddit
5. é€‰æ‹©ç›¸å…³çš„ subreddit
6. æ¿€æ´» campaign

#### 3. æŸ¥çœ‹ Leads

1. ç­‰å¾…è‡ªåŠ¨è½®è¯¢ï¼ˆ6å°æ—¶ï¼‰æˆ–ç‚¹å‡» "Run Now"
2. ç‚¹å‡» "View Leads"
3. åœ¨ Inbox ä¸­æŸ¥çœ‹æ–°çº¿ç´¢
4. ç‚¹å‡»çº¿ç´¢æŸ¥çœ‹è¯¦æƒ…
5. å¤åˆ¶å»ºè®®å†…å®¹å¹¶å‰å¾€ Reddit äº’åŠ¨

### æ“ä½œå·¥ä½œæµ

#### Commented æµç¨‹

1. åœ¨ Inbox ä¸­é€‰æ‹©ä¸€ä¸ªçº¿ç´¢
2. é˜…è¯» Suggested Comment
3. ç‚¹å‡» **"Copy & comment manually"**
   - âœ… Comment å¤åˆ¶åˆ°å‰ªè´´æ¿
   - âœ… æ‰“å¼€ Reddit å¸–å­é¡µé¢
   - âœ… çº¿ç´¢æ ‡è®°ä¸º "Commented"
4. åœ¨ Reddit ç²˜è´´å¹¶å‘å¸ƒè¯„è®º

#### DMed æµç¨‹

1. åœ¨ Inbox ä¸­é€‰æ‹©ä¸€ä¸ªçº¿ç´¢
2. é˜…è¯» Suggested DM
3. ç‚¹å‡» **"Copy & DM manually"**
   - âœ… DM å¤åˆ¶åˆ°å‰ªè´´æ¿
   - âœ… æ‰“å¼€ Reddit ç”¨æˆ·ä¸»é¡µ
   - âœ… çº¿ç´¢æ ‡è®°ä¸º "DMed"
4. ç‚¹å‡» "Send Message" å¹¶ç²˜è´´ DM

---

## ä¼˜åŒ–å†å²

### 2026-01-21: è¯„åˆ†ç³»ç»Ÿé‡æ„

**é—®é¢˜**: æ‰€æœ‰å¸–å­éƒ½æ˜¯ 0 åˆ†

**åŸå› **: 
- å…³é”®è¯è¿‡æ»¤å¤ªä¸¥æ ¼
- è¯„åˆ†ç³»ç»Ÿæ··ä¹±ï¼ˆ0-1 vs 0-100ï¼‰
- è¯„åˆ†å¤±è´¥æ—¶ç¼“å­˜æ•°æ®

**è§£å†³**:
1. **æ”¹ä¸ºç¦»æ•£æ¡£ä½** (100/80/70/60/50/0)
2. **å®½æ¾è¯„åˆ†æ ‡å‡†** - æœ‰å…³ç³»å°±ç»™ 50+ åˆ†
3. **ç«‹å³å†™å…¥æ•°æ®åº“** - æ¯ä¸ªç»“æœç«‹å³ commit
4. **å‰ç«¯å…¼å®¹ä¸¤ç§æ ¼å¼** - è‡ªåŠ¨è¯†åˆ«å¹¶è½¬æ¢

### 2026-01-20: Subreddit è¯„åˆ†

**é—®é¢˜**: Subreddit æ²¡æœ‰ç›¸å…³æ€§è¯„åˆ†

**è§£å†³**:
1. æ·»åŠ  `relevance_score` å­—æ®µåˆ°æ•°æ®åº“
2. LLM è¯„åˆ† subredditï¼ˆ0.0-1.0ï¼‰
3. ç»¼åˆè¯„åˆ†: 70% ç›¸å…³æ€§ + 30% æ´»è·ƒåº¦
4. æŒ‰ç»¼åˆåˆ†æ•°æ’åº

### 2026-01-19: æµç¨‹ä¼˜åŒ–

**é—®é¢˜**: 
- æ¯ä¸ªå…³é”®è¯å•ç‹¬è°ƒç”¨ Apifyï¼ˆæµªè´¹ï¼‰
- è¯„åˆ†å¤±è´¥å¯¼è‡´æ•°æ®ä¸¢å¤±

**è§£å†³**:
1. **æ‰¹é‡æœç´¢**: ä¸€æ¬¡ API è°ƒç”¨ä¼ å…¥æ‰€æœ‰å…³é”®è¯
2. **å…ˆä¿å­˜åè¯„åˆ†**: 
   - Step 1: ä¿å­˜æ‰€æœ‰å¸–å­ï¼ˆscore=Noneï¼‰
   - Step 2: é€ä¸ªè¯„åˆ†å¹¶ç«‹å³ commit

### 2026-01-18: Apify è¿ç§»

**é—®é¢˜**: PRAW API ä¸ç¨³å®šï¼ŒåŠŸèƒ½å—é™

**è§£å†³**: è¿ç§»åˆ° Apify
- Community Search Actor
- Reddit Scraper Actor
- æ›´ç¨³å®šçš„æ•°æ®æŠ“å–

### 2026-01-17: UI é‡æ„

**é—®é¢˜**: åˆ—è¡¨å¼å¸ƒå±€æ•ˆç‡ä½

**è§£å†³**: 
- Inbox é£æ ¼ä¸‰åˆ—å¸ƒå±€
- é»„é‡‘åˆ†å‰²æ¯”ä¾‹
- å¯æ‹–åŠ¨è°ƒæ•´å®½åº¦

### 2026-01-16: çŠ¶æ€ç®¡ç†ä¼˜åŒ–

**é—®é¢˜**: Tab åˆ‡æ¢æ—¶çŠ¶æ€æ®‹ç•™

**è§£å†³**:
- ä¼ é€’æ˜¾å¼ status å‚æ•°
- ç«‹å³æ›´æ–° UI
- æ¯æ¬¡åˆ‡æ¢é‡æ–°åŠ è½½æ•°æ®

---

## æœ€ä½³å®è·µ

### Campaign ç­–ç•¥

**å¥½çš„ä¸šåŠ¡æè¿°**:
```
âœ… "æˆ‘é”€å”®é¢å‘ 5-20 äººå›¢é˜Ÿçš„é¡¹ç›®ç®¡ç† SaaSï¼Œä¸“æ³¨äºæ•æ·å¼€å‘æµç¨‹"
âœ… "æˆ‘ä»¬å¸®åŠ©ç”µå•†å–å®¶è‡ªåŠ¨åŒ–åº“å­˜ç®¡ç†å’Œè®¢å•å¤„ç†"
âŒ "æˆ‘é”€å”®è½¯ä»¶"ï¼ˆå¤ªæ³›ï¼‰
âŒ "æœ€å¥½çš„é¡¹ç›®ç®¡ç†å·¥å…·"ï¼ˆå¤ªè¥é”€åŒ–ï¼‰
```

**Subreddit é€‰æ‹©**:
- é€‰æ‹©æ´»è·ƒåº¦é«˜çš„ï¼ˆæ¯å¤©è‡³å°‘å‡ ä¸ªæ–°å¸–ï¼‰
- ç›®æ ‡å—ä¼—åŒ¹é…
- è§„åˆ™å…è®¸è®¨è®ºå·¥å…·/è§£å†³æ–¹æ¡ˆ
- ä¸è¦é€‰å¤ªå¤§çš„æ³›ç”¨ subredditï¼ˆå¦‚ r/AskRedditï¼‰

### äº’åŠ¨æŠ€å·§

1. **å…ˆæä¾›ä»·å€¼**: å¸®åŠ©ç”¨æˆ·ï¼Œä¸è¦å¤ªæ¨é”€
2. **å¿«é€Ÿå“åº”**: Reddit èŠ‚å¥å¿«ï¼Œå°½å¿«å›å¤
3. **ä¸ªæ€§åŒ–å†…å®¹**: ä½¿ç”¨ AI å»ºè®®ä½œä¸ºèµ·ç‚¹ï¼Œæ·»åŠ ä¸ªäººåŒ–
4. **éµå®ˆè§„åˆ™**: é˜…è¯»å¹¶éµå®ˆæ¯ä¸ª subreddit çš„è§„åˆ™
5. **è¿½è¸ªç»“æœ**: è®°å½•å“ªäº›æœ‰æ•ˆ

### æˆæœ¬ä¼˜åŒ–

**Apify ä½¿ç”¨**:
- æ¯ä¸ª subreddit åªæŠ“ 20 ä¸ªå¸–å­
- ä½¿ç”¨ time_filter å‡å°‘æ— ç”¨æ•°æ®
- æ‰¹é‡æœç´¢é¿å…é‡å¤è°ƒç”¨

**LLM ä½¿ç”¨**:
- å…ˆä¿å­˜åè¯„åˆ†ï¼ˆé¿å…é‡å¤æŠ“å–ï¼‰
- åˆ é™¤ä½åˆ†å¸–å­ï¼ˆ< 50ï¼‰
- ä½¿ç”¨æ›´ä¾¿å®œçš„æ¨¡å‹ï¼ˆGemini Flashï¼‰

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜: æ²¡æœ‰æ‰¾åˆ°çº¿ç´¢

**æ£€æŸ¥æ¸…å•**:
1. Campaign çŠ¶æ€æ˜¯å¦ä¸º `ACTIVE`
2. Celery Beat æ˜¯å¦è¿è¡Œ
3. è·ç¦»ä¸Šæ¬¡è½®è¯¢æ˜¯å¦è¶…è¿‡ 6 å°æ—¶
4. Subreddit æ˜¯å¦æœ‰æ–°å¸–å­

**æ‰‹åŠ¨è§¦å‘**:
```bash
# æ–¹æ³• 1: API
curl -X POST http://localhost:8000/api/v1/reddit/campaigns/1/run-now

# æ–¹æ³• 2: Python
python -c "from app.workers.tasks import poll_reddit_leads; poll_reddit_leads()"
```

### é—®é¢˜: æ‰€æœ‰å¸–å­ 0 åˆ†

**å¯èƒ½åŸå› **:
1. ä½¿ç”¨æ—§çš„è¯„åˆ†æ ¼å¼ï¼ˆ0-1ï¼‰
2. LLM è¯„åˆ†å¤±è´¥

**è§£å†³**:
```bash
# é‡æ–°è¯„åˆ†
curl -X POST http://localhost:8000/api/v1/reddit/campaigns/1/rescore-leads

# æˆ–è½¬æ¢æ—§æ•°æ®
sqlite3 app.db "UPDATE reddit_leads SET relevancy_score = relevancy_score * 100 WHERE relevancy_score <= 1;"
```

### é—®é¢˜: Tab åˆ‡æ¢åæ•°æ®ä¸å¯¹

**åŸå› **: çŠ¶æ€ç®¡ç† bugï¼ˆå·²ä¿®å¤ï¼‰

**ç¡®è®¤ä¿®å¤**: å‰ç«¯ä»£ç åº”è¯¥æœ‰:
```typescript
await handleViewLeads(campaign, status);  // âœ… ä¼ é€’æ˜¾å¼ status
```

### é—®é¢˜: Apify é¢åº¦ä¸è¶³

**è§£å†³**:
1. æ£€æŸ¥ [Apify Console Usage](https://console.apify.com/organization/usage)
2. å‡çº§å¥—é¤æˆ–è´­ä¹°é¢åº¦
3. å‡å°‘è½®è¯¢é¢‘ç‡ï¼ˆå¢åŠ å°æ—¶æ•°ï¼‰
4. å‡å°‘æ¯æ¬¡æŠ“å–çš„å¸–å­æ•°é‡

---

## æŠ€æœ¯å‚è€ƒ

### ä»£ç ç»“æ„

```
backend/app/
â”œâ”€â”€ api/v1/routes.py              # API ç«¯ç‚¹
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ tables.py                 # æ•°æ®åº“æ¨¡å‹
â”‚   â””â”€â”€ schemas.py                # Pydantic schemas
â”œâ”€â”€ providers/reddit/
â”‚   â””â”€â”€ apify.py                  # Apify å°è£…
â”œâ”€â”€ services/reddit/
â”‚   â”œâ”€â”€ discovery.py              # Subreddit å‘ç°
â”‚   â”œâ”€â”€ polling.py                # è½®è¯¢æœåŠ¡
â”‚   â””â”€â”€ scoring.py                # è¯„åˆ†æœåŠ¡
â”œâ”€â”€ services/llm/
â”‚   â””â”€â”€ client.py                 # LLM å®¢æˆ·ç«¯
â””â”€â”€ workers/
    â”œâ”€â”€ celery_app.py             # Celery é…ç½®
    â””â”€â”€ tasks.py                  # åå°ä»»åŠ¡

frontend/app/
â”œâ”€â”€ reddit/page.tsx               # Reddit é¡µé¢
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api.ts                    # API è°ƒç”¨
â”‚   â””â”€â”€ types.ts                  # TypeScript ç±»å‹
â””â”€â”€ components/
    â””â”€â”€ Navigation.tsx            # å¯¼èˆªæ 
```

### å…³é”®æ–‡ä»¶

**åç«¯**:
- `backend/app/api/v1/routes.py` (591 è¡Œ) - æ‰€æœ‰ API ç«¯ç‚¹
- `backend/app/services/reddit/polling.py` (513 è¡Œ) - è½®è¯¢é€»è¾‘
- `backend/app/services/reddit/scoring.py` (300 è¡Œ) - è¯„åˆ†é€»è¾‘
- `backend/app/providers/reddit/apify.py` (424 è¡Œ) - Apify é›†æˆ

**å‰ç«¯**:
- `frontend/app/reddit/page.tsx` (1000+ è¡Œ) - å®Œæ•´ UI

---

## ç»“è¯­

Reddit Lead Generation æ˜¯ä¸€ä¸ªå®Œæ•´çš„ã€ç”Ÿäº§å°±ç»ªçš„ç³»ç»Ÿï¼Œå·²ç»è¿‡å¤šæ¬¡ä¼˜åŒ–å’Œä¿®å¤ã€‚

### æ ¸å¿ƒä¼˜åŠ¿

âœ… **AI é©±åŠ¨** - è‡ªåŠ¨å‘ç°ã€è¯„åˆ†ã€ç”Ÿæˆå“åº”  
âœ… **æˆæœ¬ä¼˜åŒ–** - å…ˆä¿å­˜åè¯„åˆ†ï¼Œæ‰¹é‡è°ƒç”¨  
âœ… **ç”¨æˆ·å‹å¥½** - Inbox é£æ ¼ï¼Œä¸€é”®æ“ä½œ  
âœ… **ç¨³å®šå¯é ** - å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ•°æ®ä¿æŠ¤  
âœ… **é«˜åº¦å¯é…ç½®** - çµæ´»çš„è¯„åˆ†æ ‡å‡†å’Œè½®è¯¢é¢‘ç‡  

### å¼€å§‹ä½¿ç”¨

1. é…ç½® Apify å’Œ Gemini API
2. å¯åŠ¨æ‰€æœ‰æœåŠ¡
3. åˆ›å»ºç¬¬ä¸€ä¸ª campaign
4. ç­‰å¾…æˆ–æ‰‹åŠ¨è§¦å‘è½®è¯¢
5. åœ¨ Inbox ä¸­æŸ¥çœ‹å’Œå¤„ç†çº¿ç´¢

ç¥ä½ è·å®¢é¡ºåˆ©ï¼ğŸš€

---

**æ–‡æ¡£ç‰ˆæœ¬**: 2.0  
**æœ€åæ›´æ–°**: 2026-01-21  
**ç»´æŠ¤è€…**: AI Assistant

